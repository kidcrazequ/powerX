# ⚡ PowerX

> AI 赋能的中国电力市场智能交易系统

基于 DeepSeek 大模型，为电力交易员提供智能辅助决策。支持电价预测、策略推荐、风险评估、自动报告生成。

## 快速开始

```bash
# 克隆项目
git clone https://github.com/kidcrazequ/powerX.git
cd powerX

# Docker 一键启动（推荐）
cd docker && docker-compose up -d

# 或手动启动
cd backend && pip install -r requirements.txt && uvicorn main:app --reload
cd frontend && npm install && npm run dev
```

访问 http://localhost:3000 开始使用。

## 功能展示

### 实时电价监控

```
PowerX Dashboard  ⚡ 广东现货市场  | 2026-01-08 14:30

📊 实时电价                              📈 预测趋势
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
当前电价   ████████████████░░░░  456.78 元/MWh
日均价格   ████████████░░░░░░░░  398.52 元/MWh
峰谷价差   ████████████████████  185.30 元/MWh

⏰ 15:00  ▲ 预计上涨 3.2%  |  建议: 提前买入
⏰ 18:00  ▲ 预计高峰 520+  |  建议: 减少持仓
⏰ 23:00  ▼ 预计回落 380   |  建议: 延后交易
```

### AI 策略推荐

```
$ powerx ai recommend --province 广东 --risk medium

🤖 AI 策略分析中...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
推荐策略: 分批建仓
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ✓ 14:00-15:00  买入 30%  预期成本 445 元/MWh
  ✓ 16:00-17:00  买入 40%  预期成本 460 元/MWh
  ✓ 21:00-22:00  买入 30%  预期成本 395 元/MWh

预期收益: +2.8%  |  风险等级: ★★☆☆☆  |  置信度: 87%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 算法交易 TWAP/VWAP

```
$ powerx algo create --type TWAP --amount 1000 --duration 2h

🔄 TWAP 算法订单创建成功

订单ID: ALG-20260108-001
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
总量      1000 MWh
策略      TWAP (时间加权)
时长      2 小时
切片      24 个子订单
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

执行进度:
  [████████████░░░░░░░░]  58.3%  |  583/1000 MWh
  
  ✓ 已执行 14 笔  |  均价 442.6 元/MWh
  ○ 剩余 10 笔    |  预计 45 分钟完成
```

### 风险监控面板

```
PowerX Risk Monitor  🛡️ 实时风险评估

┌─────────────────────────────────────────────────────┐
│  持仓风险                                           │
│  ████████████░░░░░░░░  62%  |  警戒线 80%           │
│                                                     │
│  敞口分布                                           │
│  广东  ████████████████  68%                        │
│  浙江  ████████░░░░░░░░  32%                        │
│  山东  ██░░░░░░░░░░░░░░   8%                        │
│                                                     │
│  VaR (95%)   -125,000 元  |  状态: ● 正常           │
│  最大回撤    -3.2%        |  预警: 无               │
└─────────────────────────────────────────────────────┘
```

### 智能问答

```
$ powerx ask "广东现货市场的结算规则是什么？"

🤖 PowerX AI 正在分析...

根据广东电力现货市场规则：

  1. 结算周期：采用 15 分钟为结算周期
  2. 价格机制：节点边际电价（LMP）
  3. 偏差考核：实际偏差超过 ±3% 需考核
  4. 结算时间：D+2 日完成结算
  
📚 参考文献：
   - 《广东电力现货市场运营规则》第 42 条
   - 《南方区域电力市场管理办法》
```

### 自动报告生成

```
$ powerx report generate --type weekly

📝 生成周报中...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
PowerX 交易周报  2026-01-01 ~ 2026-01-07
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ✓ 总交易量      12,580 MWh
  ✓ 交易笔数      156 笔
  ✓ 累计盈亏      +89,420 元
  ✓ 胜率          72.4%
  ✓ 平均价差      +7.12 元/MWh

报告已导出: weekly_report_20260107.pdf
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

## 支持省份

| 省份 | 现货市场 | 价格机制 | 特点 |
|------|:--------:|---------|------|
| 广东 | ✅ | 节点电价 | 15分钟结算 |
| 浙江 | ✅ | 统一出清 | 高频交易 |
| 山东 | ✅ | 统一出清 | 允许负电价 |
| 山西 | ✅ | 统一出清 | 煤电为主 |
| 甘肃 | ✅ | 统一出清 | 新能源外送 |

## 技术栈

**后端**: Python 3.11 · FastAPI · PostgreSQL · Redis · DeepSeek API · Celery

**前端**: React 18 · TypeScript · Ant Design · ECharts · Zustand · Vite

## 核心功能

| 功能 | 说明 |
|------|------|
| 🔮 电价预测 | 基于历史数据和市场因素，预测 24 小时电价走势 |
| 💡 策略推荐 | 根据风险偏好和市场状态，自动生成交易策略 |
| 📚 政策解读 | RAG 知识库支持，智能解答电力市场政策问题 |
| 📊 风险评估 | 实时监控持仓风险，及时预警 |
| 📝 报告生成 | AI 自动生成日报、周报、月报 |
| 📈 算法交易 | TWAP/VWAP 策略、条件单、组合订单 |
| 🔐 安全合规 | 双因子认证、数据脱敏、IP 白名单 |
| 🌐 跨省交易 | 支持跨省电力交易管理 |

## API 文档

启动后端后访问：
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## 项目结构

```
PowerX/
├── backend/           # FastAPI 后端服务
│   ├── app/
│   │   ├── api/       # API 端点
│   │   ├── ai/        # AI 模块
│   │   ├── models/    # 数据模型
│   │   └── services/  # 业务逻辑
│   └── tests/         # 测试文件
├── frontend/          # React 前端应用
│   └── src/
│       ├── pages/     # 页面组件
│       ├── components/# 通用组件
│       └── stores/    # 状态管理
├── docker/            # Docker 配置
└── k8s/               # Kubernetes 配置
```

## 测试

```bash
# 后端测试
cd backend && pytest

# 前端测试
cd frontend && npm test
```

## 支持

- ⭐ 如果 PowerX 对你有帮助，欢迎 Star 支持
- 🐛 发现问题？欢迎提交 [Issue](https://github.com/kidcrazequ/powerX/issues)
- 🔧 想贡献代码？欢迎提交 [Pull Request](https://github.com/kidcrazequ/powerX/pulls)

## License

MIT License — 自由使用，欢迎参与开源贡献。

---

<div align="center">
  <p>Made with ⚡ by PowerX Team</p>
</div>
